<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AR Designer</title>

  <!-- A-Frame -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- AR.js -->
  <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.5/aframe/build/aframe-ar.min.js"></script>

  <!-- INLINE CSS -->
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      font-family: system-ui, Arial;
    }

    a-scene {
      position: fixed !important;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 0;
    }

    .panel {
      position: fixed;
      top: 10px;
      left: 10px;
      width: 230px;
      background: rgba(0,0,0,0.85);
      color: white;
      padding: 12px;
      border-radius: 12px;
      z-index: 10;
    }

    .panel h3 {
      margin: 0 0 10px;
      font-size: 16px;
    }

    .panel label {
      font-size: 12px;
      opacity: 0.85;
    }

    .panel button {
      width: 100%;
      margin: 4px 0;
      padding: 6px;
      border-radius: 6px;
      border: none;
      background: #1e90ff;
      color: white;
      cursor: pointer;
    }

    .panel button:hover {
      background: #0b6edc;
    }

    .panel input {
      width: 100%;
    }

    .save { background: #2ecc71; }
    .load { background: #f39c12; }

    .mode-label {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: rgba(0,0,0,0.7);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      z-index: 20;
      font-size: 12px;
    }
  </style>
</head>

<body>

<!-- UI PANEL -->
<div class="panel">
  <h3>ðŸŽ¨ AR Designer</h3>

  <label>Wall Color</label>
  <input type="color" onchange="setWallColor(this.value)">

  <label>Wall Material</label>
  <button onclick="setWallMaterial('matte')">Matte</button>
  <button onclick="setWallMaterial('glossy')">Glossy</button>
  <button onclick="setWallMaterial('fabric')">Fabric</button>

  <label>Floor</label>
  <button onclick="setFloor('matte')">Matte Floor</button>
  <button onclick="setFloor('glossy')">Glossy Floor</button>

  <label>Stage</label>
  <button onclick="setStage('normal')">Normal</button>
  <button onclick="setStage('event')">Event Stage</button>

  <label>Event Mode</label>
  <button onclick="normalMode()">Normal</button>
  <button onclick="weddingMode()">Wedding</button>

  <label>Lighting</label>
  <input type="range" min="0.5" max="2" step="0.1" value="1"
         oninput="setLight(this.value)">

  <button class="save" onclick="saveDesign()">ðŸ’¾ Save</button>
  <button class="load" onclick="loadDesign()">ðŸ“‚ Load</button>
</div>

<!-- SCENE -->
<a-scene
  id="scene"
  embedded
  background="color: #ECECEC"
  vr-mode-ui="enabled: false"
  renderer="antialias: true; physicallyCorrectLights: true">

  <!-- DESKTOP CAMERA -->
  <a-entity camera look-controls position="0 1.6 6"></a-entity>

  <!-- LIGHTS -->
  <a-entity id="ambientLight" light="type: ambient; intensity: 1"></a-entity>
  <a-entity id="spotLight" light="type: spot; intensity: 0; angle: 45"
            position="0 3 -2"></a-entity>

  <!-- ROOM -->
  <a-entity id="room">

    <a-plane id="wall1" width="3" height="2"
             position="0 1.5 -3"
             material="color:#dddddd; roughness:0.8"></a-plane>

    <a-plane id="wall2" width="3" height="2"
             rotation="0 90 0"
             position="-1.5 1.5 -1.5"
             material="color:#dddddd; roughness:0.8"></a-plane>

    <a-plane id="wall3" width="3" height="2"
             rotation="0 -90 0"
             position="1.5 1.5 -1.5"
             material="color:#dddddd; roughness:0.8"></a-plane>

    <a-plane id="floor" width="3" height="3"
             rotation="-90 0 0"
             position="0 0 -1.5"
             material="color:#cccccc; roughness:0.9"></a-plane>

    <a-box id="stage" width="1.5" height="0.2" depth="1"
           position="0 0.1 -2"
           material="color:#2d3436"></a-box>

  </a-entity>

</a-scene>

<script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>
